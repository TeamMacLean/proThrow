<% include ../head.ejs %>

<div class="container">


    <table class="table table-hover data-table">
        <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Date</th>
            <th scope="col">Created by</th>
            <th scope="col">Assigned to</th>
            <th scope="col">Status</th>
            <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>

        <% requests.map(function (request) { %>
        <tr>
            <th scope="row"><a style="text-transform: uppercase;"
                               href="/request/<%- request.id %>"><%- request.janCode %></a></th>
            <td><%- request.humanDate() %></td>
            <td><a href="/user/<%- request.createdBy %>"><%- request.getCreatedByName() %></a></td>
            <td>
                <a href="/user/<%- request.assignedTo %>"><%- request.getAssignedToName() || 'unassigned' %> </a>
            </td>
            <td><%- request.status %></td>
            <td>
                <a href="/request/<%- request.id %>/edit" class="btn btn-tiny btn-primary">Edit</a>
                <a href="/request/<%- request.id %>/clone" class="btn btn-tiny btn-success">Clone</a>
            </td>
        </tr>
        <% }); %>

        </tbody>
    </table>
</div>

<% include ../foot.ejs %>